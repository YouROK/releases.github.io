{"version":3,"sources":["PosterCard.js","App.js","index.js"],"names":["style","media","display","flexFlow","backdrop","width","margin","borderRadius","trailer","PosterCard","props","React","useState","item","open","setOpen","className","onClick","src","poster_path","replace","alt","title","original_title","year","vote_average","toFixed","getCountries","getGenres","Dialog","onClose","fullWidth","maxWidth","DialogTitle","id","DialogContent","padding","backdrop_path","videos","results","map","tr","height","key","frameBorder","allow","allowFullScreen","overview","torrent","torr","date","substring","name","size","upload","download","DialogActions","Button","color","variant","element","cts","production_countries","el","iso_3166_1","join","origin_country","genres","s","charAt","toUpperCase","slice","App","releases","setReleases","link","setLink","setError","useEffect","callback","fetch","method","headers","Accept","then","res","json","error","e","console","getReleases","data","err","AppBar","position","Toolbar","ButtonGroup","Typography","time","items","length","itm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2462bf9d.chunk.js","sourcesContent":["import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport {Dialog, DialogActions, DialogContent, DialogTitle} from '@material-ui/core'\n\nconst style = {\n    media: {\n        display: 'flex',\n        flexFlow: 'row wrap',\n    },\n    backdrop: {\n        width: '200px',\n        margin: '5px',\n        borderRadius: '5px',\n    },\n    trailer: {\n        width: '200px',\n        margin: '5px',\n        borderRadius: '5px',\n    },\n}\n\nexport default function PosterCard(props) {\n    const [item, setItem] = React.useState(props.item)\n    const [open, setOpen] = React.useState(false)\n\n    return (\n        <div>\n            <div\n                className=\"thumbnail\"\n                onClick={() => {\n                    setOpen(true)\n                }}\n            >\n                <img className=\"poster\" src={item.poster_path.replace('original', 'w342') || '/empty_poster.png'} alt={item.title || item.original_title}/>\n                <div className=\"mask\">\n                    <div className=\"info\">\n                        <h3>\n                            {item.title || item.original_title} {item.year && '(' + item.year + ')'}\n                        </h3>\n                        <small>{item.vote_average.toFixed(2) + getCountries(item)}</small>\n                        <br/>\n                        <small>{getGenres(item)}</small>\n                        <br/>\n                    </div>\n                </div>\n            </div>\n\n            <Dialog\n                open={open}\n                onClose={() => {\n                    setOpen(false)\n                }}\n                aria-labelledby=\"form-dialog-title\"\n                fullWidth={true}\n                maxWidth={'lg'}\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {item.title || item.original_title} {item.year && '(' + item.year + ')'}\n                </DialogTitle>\n                <DialogContent style={{padding: '10px'}}>\n                    {item.original_title + ' • ' + item.vote_average.toFixed(2) + ' • ' + getGenres(item) + getCountries(item) + ' • ID ' + item.id}\n                    <br/>\n                    <div>\n                        {item.backdrop_path && <img style={style.backdrop} src={item.backdrop_path.replace('original', 'w300')} alt={item.title || item.original_title}/>}\n                        {item.videos &&\n                        item.videos.results &&\n                        item.videos.results.map((tr) => (\n                            <iframe\n                                key={tr.key}\n                                style={style.trailer}\n                                width=\"200\"\n                                height=\"113\"\n                                src={'https://www.youtube.com/embed/' + tr.key}\n                                frameBorder=\"0\"\n                                allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n                                allowFullScreen\n                            />\n                        ))}\n                    </div>\n\n                    <p>{item.overview}</p>\n\n                    {item.torrent &&\n                    item.torrent.map((torr) => (\n                        <small>\n                            {torr.date.substring(0, 10)}\n                            <b> {torr.name} </b>\n                            <u>{torr.size} </u> ⇑ {torr.upload} ⇓ {torr.download}\n                            <br/>\n                        </small>\n                    ))}\n                </DialogContent>\n\n                <DialogActions>\n                    <Button\n                        onClick={() => {\n                            setOpen(false)\n                        }}\n                        color=\"primary\"\n                        variant=\"outlined\"\n                    >\n                        Ok\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n\nfunction capitalize(s) {\n    if (typeof s !== 'string') return ''\n    return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nfunction getCountries(element) {\n    var cts = ''\n    if (element.production_countries != null)\n        cts = element.production_countries\n            .map(function (el) {\n                return el.iso_3166_1\n            })\n            .join(', ')\n    else if (element.origin_country != null)\n        cts = element.origin_country.join(', ')\n    if (cts) return ' • ' + cts\n    return ''\n}\n\nfunction getGenres(element) {\n    return element.genres\n        .map(function (el) {\n            return capitalize(el.name)\n        })\n        .join(', ')\n}\n","import './App.css'\nimport React, {useEffect} from 'react'\nimport {Button, ButtonGroup, Toolbar, Typography} from '@material-ui/core'\nimport AppBar from '@material-ui/core/AppBar'\nimport PosterCard from './PosterCard'\n\nexport default function App() {\n    const [releases, setReleases] = React.useState(null)\n    const [link, setLink] = React.useState('/releases/movies.json')\n    const [error, setError] = React.useState('')\n\n    useEffect(() => {\n        getReleases(link, (data, err) => {\n            if (data) setReleases(data)\n            else setError(err)\n        })\n    }, [link])\n\n    return (\n        <div className=\"App\">\n            <AppBar position=\"sticky\">\n                <Toolbar className=\"App-header\">\n                    <ButtonGroup className=\"App-header-item\" variant=\"contained\">\n                        <Button\n                            onClick={() => {\n                                setLink('/releases/movies.json')\n                            }}>\n                            Фильмы\n                        </Button>\n                        <Button\n                            onClick={() => {\n                                setLink('/releases/4k.json')\n                            }}>\n                            4K\n                        </Button>\n                        <Button\n                            onClick={() => {\n                                setLink('/releases/tv.json')\n                            }}>\n                            Сериалы\n                        </Button>\n                        <Button\n                            onClick={() => {\n                                setLink('/releases/cartoons.json')\n                            }}>\n                            Мультфильмы\n                        </Button>\n                        <Button\n                            onClick={() => {\n                                setLink('/releases/cartoons_tv.json')\n                            }}>\n                            Мультсериалы\n                        </Button>\n                        <Button\n                            onClick={() => {\n                                setLink('/releases/legends.json')\n                            }}>\n                            Легенды\n                        </Button>\n                    </ButtonGroup>\n                    <Typography className=\"App-header-item\">{releases ? 'Последние обновление: ' + releases.date + ' ' + releases.time + ' ' + releases.items.length : ''}</Typography>\n                </Toolbar>\n            </AppBar>\n            <div className=\"App-content\">{releases && releases.items.map((itm) => <PosterCard className=\"App-content-item\" key={itm.id} item={itm}/>)}</div>\n        </div>\n    )\n}\n\nfunction getReleases(link, callback) {\n    try {\n        fetch(link, {\n            method: 'get',\n            headers: {\n                Accept: 'application/json, text/plain, */*',\n                'Content-Type': 'application/json',\n            },\n        })\n            .then((res) => res.json())\n            .then(\n                (json) => {\n                    callback(json, null)\n                },\n                (error) => {\n                    callback(null, error)\n                }\n            )\n    } catch (e) {\n        console.error(e)\n        callback(null, e)\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}